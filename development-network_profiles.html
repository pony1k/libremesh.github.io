<!doctype html>

<!--[if IE 9]>
<html class="lt-ie10" lang="en"> <![endif]-->
<html lang="en" class="no-js" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Network Profiles</title>


    <meta name="description"
          content="The LibreMesh project, a set of tools for making the free networks possible"/>
	
    <link rel="stylesheet" href="/css/foundation.css"/>
    <link rel="stylesheet" href="/css/font-awesome.css"/>
    <link rel="stylesheet" href="/css/coderay.css"/>
    <link rel="stylesheet" href="/css/asciidoctor.css"/>
    <link rel="stylesheet" href="/css/lime.css"/>
    <script src="/js/vendor/modernizr.js"></script>
    <script src="/js/toc.js"></script>

</head>
<body>


<!-- Nav Bar -->

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <!-- Title Area -->
        <li class="name">
            <h1>
                <a href="">
                    <img src="/logo/logo_nano.png"></img>
                    <span class="top-bar-title">LibreMesh</span>
                </a>
            </h1>
        </li>
	<li class="toggle-topbar menu-icon"><a href=""><span>Menu</span></a></li>
    </ul>
    
<!-- lang --> 
<ul class="lng">





  <li>
    <a href="/development-network_profiles.html" class="en">en</a>
  </li>

    </ul>
<!-- fine lang-->

    <section class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            
    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li ><a href="/">Home</a></li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li ><a href="/news.html">News</a></li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li ><a href="/communication.html">Communication</a></li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li ><a href="/getit.html">Get it!</a></li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li ><a href="/howitworks.html">How it works</a></li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li ><a href="/development.html">Development</a></li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li ><a href="/docs/">Documentation</a></li>

    <!-- Use the current language and default to english if doc translation is not found -->
    
    
    
    <li ><a href="/about.html">About</a></li>


        </ul>
    </section>
</nav>
<!-- End Nav -->


<!-- Main Page Content and Sidebar -->

<div class="row">
    <!-- Docs Sidebar -->

    

    <!-- End Docs Sidebar -->

    <!-- Main Blog Content -->
    <div class="large-9 columns" role="content">

        <div class="sectionbody ">
            
            <div class="paragraph text-right">
                <p>
                    <span class="icon"><i class="fa fa-edit"></i></span>
                    <a href="https://github.com/libremesh/libremesh.github.io/edit/master/development-network_profiles.txt">Edit this page</a>
                </p>
            </div>
        </div>

        <div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#what_is_a_network_profile">What is a Network Profile?</a></li>
<li><a href="#how_to_create_a_network_profile">How to create a Network Profile</a>
<ul class="sectlevel1">
<li><a href="#cloning_your_fork">Cloning your fork</a></li>
<li><a href="#creating_the_directories">Creating the directories</a></li>
<li><a href="#creating_a_makefile">Creating a Makefile</a></li>
<li><a href="#adding_files_to_the_root_folder">Adding files to the "root" folder</a></li>
</ul>
</li>
<li><a href="#alternative_to_the_usage_of_network_profiles">Alternative to the usage of Network Profiles</a></li>
</ul>
</div>
<h1 id="what_is_a_network_profile" class="sect0">What is a Network Profile?</h1>
<div class="paragraph">
<p>Network profiles are the most convenient way for a community to organize its configuration files. During the <a href="development.html">compilation process</a>, the users can select the desired network profile, which will automatically select all the needed software and include the configuration files for this community.</p>
</div>
<div class="paragraph">
<p>They are organized in folders with some content in the <a href="https://github.com/libremesh/network-profiles">network-profiles repository</a>.</p>
</div>
<h1 id="how_to_create_a_network_profile" class="sect0">How to create a Network Profile</h1>
<div class="paragraph">
<p>Practically, each community can create a folder in the <a href="https://github.com/libremesh/network-profiles">network-profiles repository</a> with the community&#8217;s name, and, inside this, create one or more profiles (for example you can have different profiles for nodes of the backbone or for access points, or for nodes with large or small flash or RAM memory).</p>
</div>
<div class="paragraph">
<p>You will need to create a Github user, fork the <a href="https://github.com/libremesh/network-profiles">network-profiles repository</a>, clone your fork on a computer, create the directories, create a <code>Makefile</code> (see below), add some content in the <code>root/</code> folder (see below), commit the changes, push them to your forked repository and finally open a pull request from your repository to the official <a href="https://github.com/libremesh/network-profiles">network-profiles one</a>.</p>
</div>
<div class="sect1">
<h2 id="cloning_your_fork">Cloning your fork</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here we will skip the explanation on most of the git and Github-related steps, please search on the internet how to perform them or ask us on the <a href="communication.html">project&#8217;s communication channels</a>.</p>
</div>
<div class="paragraph">
<p>Once you forked the <a href="https://github.com/libremesh/network-profiles">network-profiles repository</a> with your user, clone your fork:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>git clone git@github.com:your_username/network-profiles.git</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating_the_directories">Creating the directories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each community will have to create its directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd network-profiles
mkdir MyMesh.iscool</pre>
</div>
</div>
<div class="paragraph">
<p>And inside that directory, you&#8217;ll have to create a directory for each different profile you want to have. Most communities will have only one profile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd MyMesh.iscool
mkdir standard
mkdir lowmem
mkdir gateway</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating_a_makefile">Creating a Makefile</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Network Profiles get converted to packages which, as mentioned above, will include some files but can also select some new software to be installed as a dependency. In order to compile them as packages, a Makefile is needed.</p>
</div>
<div class="paragraph">
<p>In the Makefile you can indicate a description and include a list of the dependencies, which are the packages that gets selected by selecting your network-profile.</p>
</div>
<div class="paragraph">
<p>The Makefile for the network-profiles repository has to be inside the profile directory, for example <code>network-profiles/MyMesh.iscool/standard/Makefile</code>, and it will look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>include $(TOPDIR)/rules.mk

PROFILE_DESCRIPTION:=Standard profile for MyMesh community
PROFILE_DEPENDS:=+lime-proto-babeld +lime-proto-batadv +lime-proto-anygw

include ../../profile.mk

# call BuildPackage - OpenWrt buildroot signature</pre>
</div>
</div>
<div class="paragraph">
<p>and the lines you should customize are only the PROFILE_DESCRIPTION and PROFILE_DEPENDS ones. In the list of the PROFILE_DEPENDS, please note that each package&#8217;s name is preceeded by a <code>+</code>. There is no need to specify the <code>lime-system</code> package as it is already included.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding_files_to_the_root_folder">Adding files to the "root" folder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For including custom files in the compiled image, you can create a <code>root/</code> folder in the profile folder, for example <code>network-profiles/MyMesh.iscool/standard/root/</code>. In this directory, you will have to create the folders structure and the files you want to have in the compiled firmware.</p>
</div>
<div class="paragraph">
<p>What is always interesting to include, is a <code>lime-community</code> file, which is the file containing the configuration options for your community. This file will need to appear in the firmware image in the <code>/etc/config/lime-community</code>, so that you will need to create it here in <code>network-profiles/MyMesh.iscool/standard/root/etc/config/lime-community</code>.</p>
</div>
<div class="paragraph">
<p>The options that are not set in the lime-community file, are taken from the lime-defaults one. For more information on this, please read the <a href="docs/en_config.html">documentation on the website</a>.</p>
</div>
</div>
</div>
<h1 id="alternative_to_the_usage_of_network_profiles" class="sect0">Alternative to the usage of Network Profiles</h1>
<div class="paragraph">
<p>Using a network profile is a convenient way to share the files over the internet with all the other members of your community; but it can be exhaggerated if you just want to test adding a file from time to time.</p>
</div>
<div class="paragraph">
<p>In the buildroot (which is the system that you can use for compiling LibreMesh as described in the <a href="development.html">development page</a>) you can create a directory named <code>files</code>, and the content of this directory will, in the final LibreMesh image, overwrite every file with the same path and name, including the ones from the selected Network Profile.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd openwrt
mkdir files
rsync -aPh --delete ~/network-profiles/valsamoggia.ninux.org/vs-ninux-generic/root/ files/</pre>
</div>
</div>

    </div>

    <!-- End Main Content -->

    <!-- Sidebar -->

    
    <aside class="large-3 columns">
        <h4>Links</h4>
<div class="panel">
    <ul class="fa-ul">
        <li><i class="fa-li fa fa-download" aria-hidden="true"></i><a href="https://downloads.libremesh.org/current/">Latest Release Firmware</a></li>
        <li><i class="fa-li fa fa-linux" aria-hidden="true"></i><a href="development.html">Build Firmware Locally</a></li>
        <li><i class="fa-li fa fa-code-fork" aria-hidden="true"></i><a href="https://github.com/libremesh/">Source Code</a></li>
        <li><i class="fa-li fa fa-envelope" aria-hidden="true"></i><a href="https://www.autistici.org/mailman/listinfo/libremesh">Mailing List</a></li>
        <li><i class="fa-li fa fa-comments" aria-hidden="true"></i><a href="https://matrix.to/#/#libremesh-dev:matrix.guifi.net">Element Chatroom</a></li>
    </ul>
</div>

    </aside>
    

    <!-- End Sidebar -->
</div>

<!-- End Main Content and Sidebar -->


<!-- Footer -->

<footer class="row">
    <div class="large-12 columns">
        <hr/>
        <div class="row">
            <div class="large-12 columns">
                <p>Last updated 2023-12-01 13:47:38</p>
            </div>
        </div>
    </div>
</footer>

<script src="/js/vendor/jquery.js"></script>
<script src="/js/foundation.min.js"></script>
<script>
    $(document).foundation();

    var doc = document.documentElement;
    doc.setAttribute('data-useragent', navigator.userAgent);
</script>
</body>
</html>
